/**
* $dom library (v0.9.2b) copyright 2009, 2010, 2011 Keith Clark
* Licensed under the MIT License.
* http://www.keithclark.co.uk/
*
* Copyright 2011, 2012 Julien Wajsberg
* Licensed under the MIT License
* http://github.com/julienw/dollardom
*/(function(a){function q(a,b,c){var d=r(b),e=p[d];return e&&e.set?e.set(a,c):a.style[d]=c}function r(a){return o[a]||(o[a]=a.replace(l,function(a,b){return b.toUpperCase()}))}function s(a,c,d){var f;if(d===b){if(typeof c=="string")return e(a,c)||0;for(f in c)q(a,f,c[f])}else q(a,c,d)}function t(a){var c,d=[];if(typeof a=="string")while(a){c=a.match(k);if(c[0]==="")break;d.push({rel:c[1],uTag:(c[2]||"").toUpperCase(),id:c[3],classes:c[4]?c[4].split("."):b}),a=a.substring(c[0].length)}return d}function u(a,b){while((a=a.parentNode)&&a!==b);return a!==null}function v(a,b){function s(a,b){var c=b.id?(d=(a&&a.ownerDocument||g).getElementById(b.id))&&u(d,a)?[d]:[]:v(a.getElementsByTagName(b.uTag||"*")),d=c.length;if(d>0&&(b.id||b.classes))while(d--)w(c[d],b)||c.splice(d,1);return c}function v(a){var b,c,d;try{return Array.prototype.slice.call(a)}catch(e){b=[];for(c=0,d=a.length;c<d;c++)b.push(a[c]);return b}}function x(a){var b;for(b=c.length;b--;)if(c[b]===a)return i;return j}var c,d,e,f,h,k,l,m,n,o,p,q,r;c=[],d=[a],e=t(b),e.length||(e=[{}]);for(f=0,h=e.length;f<h;f++){o=e[f];for(k=0,l=d.length;k<l;k++){p=d[k];switch(o.rel){case">":r=p.childNodes;for(m=0,n=r.length;m<n;m++)w(r[m],o)&&c.push(r[m]);break;case"~":while(p=p.nextSibling)if(w(p,o)){if(x(p))break;c.push(p)}break;case"+":while((p=p.nextSibling)&&p.nodeType!==1);p&&w(p,o)&&c.push(p);break;default:q=s(p,o);if(f>0)for(m=0,n=q.length;m<n;m++)x(q[m])||c.push(q[m]);else c=c.concat(q)}}if(!c.length)return[];d=c.splice(0,c.length)}return d}function w(a,b){var c,d,e;return b?(c=b.uTag,d=b.id,e=b.classes,a.nodeType===1&&(!c||c===a.tagName)&&(!d||d===a.id)&&(!e||!!A(a,e))):!0}function x(a,b,c){c=t(c)[0];while(a&&!w(a,c)&&(a=a[b]));return a}function y(a,b){return b=t(b)[0],a&&w(a,b)}function z(a,b,c){return x(a[b],b,c)}function A(a,b){var c;if(a.className==="")return j;for(c=0;c<b.length;c++)if(!K(a,b[c]))return j;return i}function B(){function e(){var d,e;if(!b){b=!0,c&&(c=a.clearTimeout(c));for(d=0,e=m.length;d<e;d++)m[d]()}}function f(){try{h.doScroll("left")}catch(b){a.setTimeout(f,20);return}e()}var b,c,d;if(/loaded|complete/.test(g.readyState)){a.setTimeout(e,0);return}if(g.addEventListener)g.addEventListener("DOMContentLoaded",e,j),g.addEventListener("load",e,j);else if(g.attachEvent){g.attachEvent("onload",e),d=!1;try{d=a.frameElement===null}catch(i){}d&&h.doScroll&&f()}}function C(a,b){var c,d,e,f=t(a)[0],h=f.uTag;return h?(c=(b||g).createElement(h),d=f.id,e=f.classes,d&&(c.id=d),e&&(c.className=e.join(" ")),c):null}function D(a){m.push(a)}function E(a,b){return v(b||g,a)}function F(a,b){return z(a,"parentNode",b)}function G(a,b){return z(a,"nextSibling",b)}function H(a,b){return z(a,"previousSibling",b)}function I(a,b){return a=a.parentNode.firstChild,x(a,"nextSibling",b)}function J(a,b){return a=a.parentNode.lastChild,x(a,"previousSibling",b)}function K(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1}function L(a,b){K(a,b)||(a.className+=" "+b)}function M(a,b){K(a,b)&&(a.className=a.className.replace(RegExp("(^|\\s)"+b+"(\\s|$)")," ").replace(/\s$/,""))}function N(a,b,c){(c?L:M)(a,b)}function O(a){while(a.firstChild)a.removeChild(a.firstChild)}var b,c,d,e,f,g=a.document,h=g.documentElement,i=!0,j=!1,k=/^\s*([>+~])?\s*([*\w-]+)?(?:#([\w-]+))?(?:\.([\w.-]+))?\s*/i,l=/-(\w)/g,m=[],n=[],o={"float":"cssFloat"in h.style?"cssFloat":"styleFloat"},p={borderWidth:{get:function(a){return e(a,"border-left-width")}},padding:{get:function(a){return e(a,"padding-left")}},margin:{get:function(a){return e(a,"margin-left")}}};!("opacity"in h.style)&&"filters"in h&&(p.opacity={set:function(a,b){var c=a.filters.alpha;c?c.opacity=b*100:a.style.filter+=" Alpha(opacity="+b*100+")"},get:function(a){var b=a.filters.alpha;return b?b.opacity/100:1}}),"clientWidth"in h&&(p.width={get:function(a){return a.style.width||a.clientWidth||a.offsetWidth}}),"clientHeight"in h&&(p.height={get:function(a){return a.style.height||a.clientHeight||a.offsetHeight}}),c=a.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:function(b,c,d){var e=b.uniqueID+c+d;n[e]=function(){var c=a.event;return c.target=c.srcElement||g,c.currentTarget=b,c.preventDefault=function(){c.returnValue=!1},c.stopPropagation=function(){c.cancelBubble=!0},d.call(b,c)},b.attachEvent("on"+c,n[e])},d=a.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){var d=a.uniqueID+b+c;a.detachEvent("on"+b,n[d]),delete n[d]},e=g.defaultView&&g.defaultView.getComputedStyle?function(a,b){var c=r(b),d=p[c];return d&&d.get?d.get(a):a.ownerDocument.defaultView.getComputedStyle(a,null).getPropertyValue(b)}:function(a,b){var c=r(b),d=p[c];return d&&d.get?d.get(a):a.currentStyle[c]},f={create:C,onready:D,addEvent:c,removeEvent:d,get:E,descendants:v,ancestor:F,next:G,previous:H,first:I,last:J,empty:O,is:y,hasClass:K,addClass:L,removeClass:M,toggleClass:N,style:s},a.$dom=f,B()})(this),function(a){function g(a,b){var c,d;for(c=0,d=a.length;c<d;c++)b(a[c])}function h(a,b){var c=[],d=0,e=a.length;for(;d<e;d++)c.push(b(a[d]));return c}function i(a){var b,c,e,f,g=0,h=[],i=[a];while(g<i.length){b=i[g];for(c=0,e=b.length;c<e;c++)f=b[c],d(f)?i.push(f):h.push(f);g++}return h}function j(a){return Object.prototype.toString.call(a)==="[object Array]"}function k(a){this.a=a}function l(a,b){return new k(f.get(a,b))}function m(a,b){return new k([f.create(a,b)])}function n(a){return a=d(a)?a:[a],new k(a)}var b,c,d,e,f=a.$dom;b=Array.prototype.forEach?function(a,b){a.forEach(b)}:g,c=Array.prototype.map?function(a,b){return a.map(b)}:h,d=Array.isArray||j,e=k.prototype={addEvent:function(a,c){return b(this.a,function(b){f.addEvent(b,a,c)}),this},removeEvent:function(a,c){return b(this.a,function(b){f.removeEvent(b,a,c)}),this},descendants:function(a){return n(i(c(this.a,function(b){return f.descendants(b,a)})))},ancestor:function(a){return n(c(this.a,function(b){return f.ancestor(b,a)}))},next:function(a){return n(c(this.a,function(b){return f.next(b,a)}))},previous:function(a){return n(c(this.a,function(b){return f.previous(b,a)}))},first:function(a){return n(c(this.a,function(b){return f.first(b,a)}))},last:function(a){return n(c(this.a,function(b){return f.last(b,a)}))},empty:function(){return b(this.a,f.empty),this},is:function(a){return this.a.length&&f.is(this.a[0],a)},hasClass:function(a){return this.a.length&&f.hasClass(this.a[0],a)},addClass:function(a){return b(this.a,function(b){f.addClass(b,a)}),this},removeClass:function(a){return b(this.a,function(b){f.removeClass(b,a)}),this},toggleClass:function(a,c){return b(this.a,function(b){f.toggleClass(b,a,c)}),this},style:function(a,c){return b(this.a,function(b){f.style(b,a,c)}),this},dom:function(a){return typeof a=="number"?this.a[a]:this.a},append:function(a){return a instanceof k&&(a=a.dom()),d(a)||(a=[a]),b(this.a,function(c){b(a,function(a){c.appendChild(a)})}),this},appendTo:function(a){return!a instanceof k&&(a=n(a)),a.append(this),this}},f.transform&&(e.transform=e.animate=function(a,c,d){return b(this.a,function(b){f.transform(b,a,c,d),d=null}),this}),f.sel=f.select=l,f.el=f.element=m,f.from=n}(this);